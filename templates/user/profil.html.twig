{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{  asset('css/formUser.css') }}">
{% endblock %}

{% block title %}Modifier mon profil{% endblock %}
{% block nav%} - Profil {% endblock%}

{% block body %}

    <div class="wrapper">
        <!--FORMULAIRE -->
        <form method="post" name="form_maj_profil">
            <div id="wizard" class="card">
                <h3 class="text-center">Modifier mon profil</h3>
                <section>
                    <div class="text-center divImg d-flex flex-column align-items-center">
                    {# {% for user in user %} #}
                    {% if app.user.picture %}
                        <img class="rounded-circle shadow-4" width="150" src="{{ asset('images/'~ app.user.picture) }}" alt="{{ app.user.prenom }} {{ app.user.nom }}">
                    {% else %}
                        <img src="{{ asset('images/avartar.png') }}" alt="Photo par défaut">
                    {% endif %}
                    {# {% endfor %} #}
                        {# <img src="{{ asset('images/avartar.png') }}" alt=""> #}
                        <a href="{{ path('uploadPicture') }}">Modifier mon image</a><br>
                        <!--  <div class="avartar-picker">
                            <input type="file" name="file-1[]" id="file-1" class="inputfile" data-multiple-caption="{count} files selected" multiple />
                            <label for="file-1">
                                <i class="zmdi zmdi-camera"></i>
                                <span>Choisir une autre image</span>
                            </label>
                        </div>
                        -->
                    </div>
                    <div class="form-header">
                        <div class="form-group">
                            <div class="form-holder">
                                <!-- methode pour obtenir les infos USER -->
                                <input name="nom" type="text" placeholder="Nom" value="{{ app.user.nom }}" class="form-control" required>
                            </div>
                            <div class="form-holder">
                                <input name="pseudo" type="text" placeholder="Pseudo" value="{{ app.user.pseudo }}" class="form-control" required>
                            </div>
                            <div class="form-holder">
                                <input name="tel" type="tel"  placeholder="Telephone : 0102030405" value="{{ app.user.tel }}" class="form-control" pattern="^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-holder ">
                                <input name="prenom" type="text" placeholder="Prénom" value="{{ app.user.prenom }}" class="form-control" required>
                            </div>
                            <div class="form-holder">
                                <select name="campus" class="form-control" >
                                    <option value="{{ app.user.campus }}">{{ app.user.campus }}</option>
                                    {% for campus in allCampus %}
                                        <option value="{{ campus.id }}" >{{ campus.nom }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-holder">
                                <input name="email" type="email" placeholder="Email" value="{{ app.user.userIdentifier }}" class="form-control" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-holder">
                        <input name="password" type="password" placeholder="Nouveau mot de passe" class="form-control" autocomplete="new-password">
                    </div>
                    <div class="form-holder">
                        <input  name="confirmPassword" type="password" placeholder="Confirmer votre nouveau mot de passe" class="form-control">
                    </div>
                    <div class="text-center">
                        <input  id="valider" class="btn btn-block valid-btn mb-4" type="submit" value="Valider">
                        <a href="{{ path("app_accueil") }}"><input  id="fermer" class="btn btn-block mb-4" type="button" value="Fermer"></a>
                    </div>

                </section>
            </div>
        </form>
    </div>

    {% block javascripts %}
    {% endblock %}

{% endblock %}
